
CREATE TABLE CUSTOMER ( 
    CUSTOMERID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    COMPANY VARCHAR(100) NOT NULL,
    FORENAME VARCHAR(100), 
    SURNAME VARCHAR(100), 
    ADDRESS VARCHAR(100) NOT NULL);

CREATE TABLE STORAGES ( 
    STORAGELOCATION INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    CAPACITY INT NOT NULL,
    PRODUCTNAME VARCHAR(100));

CREATE TABLE DELIVERY ( 
    MAXWEIGHT INT NOT NULL,
    DELIVERY_DATE DATE NOT NULL, 
    DELIVERY_ADDRESS VARCHAR(100) NOT NULL,
    DELIVERYID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    CUSTOMERID INT NOT NULL,
    FOREIGN KEY (CUSTOMERID) REFERENCES CUSTOMER (CUSTOMERID));

CREATE TABLE PRODUCT ( 
  	PRODUCTID INT NOT NULL PRIMARY KEY AUTO_INCREMENT, 
    PRODUCTNAME VARCHAR(100) NOT NULL,
    PRICE INT NOT NULL, 
    SIZE INT NOT NULL,
    WEIGHT INT NOT NULL,
  	STORAGELOCATION INT,
    FOREIGN KEY (STORAGELOCATION) REFERENCES STORAGES (STORAGELOCATION));

CREATE TABLE ORDERS ( 
    ORDERDATE DATE NOT NULL,
    ORDERID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
  	DELIVERYID INT,
  	CUSTOMERID INT,
    FOREIGN KEY (DELIVERYID) REFERENCES DELIVERY (DELIVERYID),
    FOREIGN KEY (CUSTOMERID) REFERENCES CUSTOMER (CUSTOMERID));


CREATE TABLE ORDERPRODUCT(
    ORDERPRODUCT BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    PRODUCTCOUNT INT,
    PRODUCTID INT,
    ORDERID INT,
    FOREIGN KEY (PRODUCTID) REFERENCES PRODUCT (PRODUCTID),
    FOREIGN KEY (ORDERID) REFERENCES ORDERS (ORDERID));






UPDATE ORDERS SET DELIVERYID = 2 WHERE ORDERID = 1;
UPDATE ORDERS SET DELIVERYID = 1 WHERE ORDERID = 2;
UPDATE ORDERS SET CUSTOMERID = 1 WHERE ORDERID = 1;
UPDATE ORDERS SET CUSTOMERID = 2 WHERE ORDERID = 2;
UPDATE DELIVERY SET CUSTOMERID = 2 WHERE DELIVERYID = 1;
UPDATE DELIVERY SET CUSTOMERID = 1 WHERE DELIVERYID = 2;

INSERT INTO ORDERPRODUCT (PRODUCTCOUNT, PRODUCTID, ORDERID) VALUES (2, 1, 1);
INSERT INTO ORDERPRODUCT (PRODUCTCOUNT, PRODUCTID, ORDERID) VALUES (1, 2, 1);
INSERT INTO ORDERPRODUCT (PRODUCTCOUNT, PRODUCTID, ORDERID) VALUES (4, 3, 1);
INSERT INTO ORDERPRODUCT (PRODUCTCOUNT, PRODUCTID, ORDERID) VALUES (1, 4, 2);
INSERT INTO ORDERPRODUCT (PRODUCTCOUNT, PRODUCTID, ORDERID) VALUES (1, 2, 2);

INSERT INTO ORDERS (ORDERDATE, DELIVERYID, CUSTOMERID) VALUES ('2020-04-14', 3, 2);
INSERT INTO ORDERS (ORDERDATE, DELIVERYID, CUSTOMERID) VALUES ('2020-05-17', 4, 3);
INSERT INTO ORDERS (ORDERDATE, DELIVERYID, CUSTOMERID) VALUES ('2012-02-21', 2, 2);
INSERT INTO ORDERS (ORDERDATE, DELIVERYID, CUSTOMERID) VALUES ('2014-12-30', 5, 1);
INSERT INTO ORDERS (ORDERDATE, DELIVERYID, CUSTOMERID) VALUES ('2015-07-24', 1, 1);








UPDATE ORDERS SET ORDERDATE = '2020-03-12' WHERE ORDERID = 1;
UPDATE CUSTOMER SET COMPANY = 'terve.fi' WHERE COMPANY = 'RyoUkot';
UPDATE PRODUCT SET WEIGHT = 15 WHERE PRODUCTID = 1;

UPDATE ORDERS SET CUSTOMERID = '1' WHERE ORDERID = '1';
UPDATE ORDERS SET CUSTOMERID = '2' WHERE ORDERID = '2';

DELETE FROM CUSTOMER WHERE FORENAME = 'Petteri';
DELETE FROM PRODUCT WHERE PRODUCTID = 1;
DELETE FROM ORDERS WHERE ORDERID = 1;

ALTER TABLE PRODUCT ADD COLOUR VARCHAR(100);
ALTER TABLE DELIVERY DROP COLUMN MAXSIZE;

-- SELECT ASIAKAS.ID, ASIAKAS.ETUNIMI, ASIAKAS.SUKUNIMI, LAINA.LAINAPVM, KIRJA.KIRJANIMI FROM ASIAKAS, LAINA, KIRJA WHERE ASIAKAS.id = LAINA.asiakasid and LAINA.kirjaid = KIRJA.id

-- autoincrement id ehk채??
-- sijoitetaan customer tauluun-->
-- INSTERT INTO CUSTOMER (CUSTOMERID, COMPANY, FORENAME) VALUES (12345, 6789, "VILLEPETTERI"); 
-- avataan customer n채kyviin
-- SELECT * FROM CUSTOMER;
-- poistetaan customer taulu
-- DROP TABLE CUSTOMER;
--1. Create tables that doesnt have foreign keys(viiteavaimia muihin tauluihin)
-- assosiatiivinen taulu(2 viiteavainta, t채yty luoda taulut, joista viiteavaimet)
-- mit채 jos kaikissa tauluissa viiteavaimia?
-- AUTO_INCREMENT -> kasvava numerosarja
-- yhdistetty viiteavain primary key (muuttuja1, muuttuja2)
SELECT ORDERS.DELIVERYID, DELIVERY.DELIVERYID, DELIVERY.MAXWEIGHT, DELIVERY.MAXSIZE FROM ORDERS RIGHT JOIN DELIVERY ON ORDERS.DELIVERYID = DELIVERY.DELIVERYID;

-- SELECT * FROM KIRJA WHERE TYYPPIKOODI=(SELECT TYYPPIKOODI FROM KIRJATYYPI WHERE TYYPPIKUVAUS='dekkarit');

-- It is possible to write the INSERT INTO statement in two ways.
-- The first way specifies both the column names and the values to be inserted:


-- If you are adding values for all the columns of 
-- the table, you do not need to specify the column 
-- names in the SQL query. However, make sure the 
-- order of the values is in the same order as the 
-- columns in the table. The INSERT INTO syntax 
-- would be as follows:

-- INSERT INTO table_name
-- VALUES (value1, value2, value3, ...);

--SELECT column_name(s)
--FROM table1
--INNER JOIN table2
--ON table1.column_name = table2.column_name;


